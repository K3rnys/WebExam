{% extends 'base.html' %}
{% block content %}
<h2>{{ collection.name }}</h2>
<div class="books-cards-list">
    {% for book in books %}
    <div class="book-card">
        <div class="book-card-cover">
            {% if book.cover %}
                <img src="/static/covers/{{ book.cover.filename }}" alt="Обложка">
            {% else %}
                <div class="book-card-cover-placeholder">&#128214;</div>
            {% endif %}
        </div>
        <div class="book-card-info">
            <div class="book-card-title-row">
                <a href="{{ url_for('book_view', book_id=book.id) }}" class="book-card-title">{{ book.title }}</a>
                <span class="book-card-year">{{ book.year }}</span>
            </div>
            <div class="book-card-author">
                {{ book.author }}
            </div>
            <div class="book-card-genres">
                {% for genre in book.genres %}
                    {{ genre.name }}{% if not loop.last %}, {% endif %}
                {% endfor %}
            </div>
            <div class="book-card-meta">
                <span class="book-card-pages">{{ book.pages }} стр.</span>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
<a href="{{ url_for('my_collections') }}" class="btn back-btn">Назад</a>
{% endblock %}